<template>
  <div class="admin-panel">
    <aside class="admin-sidebar">
      <div class="logo">Admin Panel</div>
      <nav class="admin-nav">
        <router-link
          v-for="item in menuItems"
          :key="item.id"
          :to="item.path"
          :class="['nav-item', { active: currentSection === item.id }]"
        >
          <span class="icon">{{ item.icon }}</span>
          <span class="label">{{ item.label }}</span>
        </router-link>
      </nav>
      <div class="user-info">
        <span>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
        <button @click="logout" class="logout-btn">–í—ã—Ö–æ–¥</button>
      </div>
    </aside>

    <main class="admin-content">
      <router-view />
    </main>
  </div>
</template>

<script setup lang="ts">
import { computed } from "vue";
import { useRouter, useRoute } from "vue-router";

const router = useRouter();
const route = useRoute();

const menuItems = [
  { id: "products", label: "–¢–æ–≤–∞—Ä—ã", path: "/admin/products", icon: "üì¶" },
  {
    id: "categories",
    label: "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
    path: "/admin/categories",
    icon: "üìÇ",
  },
  { id: "brands", label: "–ë—Ä–µ–Ω–¥—ã", path: "/admin/brands", icon: "üè∑Ô∏è" },
  { id: "tags", label: "–¢–µ–≥–∏", path: "/admin/tags", icon: "üîñ" },
  {
    id: "features",
    label: "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏",
    path: "/admin/features",
    icon: "‚öôÔ∏è",
  },
  { id: "news", label: "–ù–æ–≤–æ—Å—Ç–∏", path: "/admin/news", icon: "üì∞" },
  { id: "contact", label: "–°–æ–æ–±—â–µ–Ω–∏—è", path: "/admin/contact", icon: "üí¨" },
];

const currentSection = computed(() => {
  const pathParts = route.path.split("/");
  return pathParts[2] || "products";
});

const logout = () => {
  // TODO: Implement logout
  router.push("/");
};
</script>

<!-- Styles in main.css -->
